<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" prefix="og: http://ogp.me/ns#" class="h-100">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description"
    content="Soundfont2 based Web MIDI Player written in JavaScript. This MIDI Player can playback XG or GS formatted midi file." />
  <meta name="author" content="Logue" />
  <meta name="keywords" content="smf, midi, gs, xg, gm, smfplayer.js, standard midi" />
  <title>Standard MIDI Player for Web</title>
  <link rel="shortcuticon" href="./favicon.ico" />
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net/" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    integrity="sha256-YvdLHPgkqJ8DVUxjjnGVlMMJtNimJ6dYkowFFvp4kKs=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css"
    integrity="sha256-YW7U7x59rUPZ3DWzQKbalM/9j2Cp8wapJVQPRxL4w1k=" crossorigin="anonymous">
  <!-- Web Fonts -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/dseg@0.46.0/css/dseg.css"
    integrity="sha256-0kP9GjBI5CdeL8PdmthxSmNbvRHsfz5Me/r6FK7UVJ4=" crossorigin="anonymous" />
  <style>
    /*<!CDATA[*/
    .percentage {
      font-family: 'DSEG14-Modern';
    }

    .Clock-Wrapper {
      font-family: 'DSEG14-Modern';
      font-style: italic;
      position: relative;
      height: 2rem;
    }

    .Clock-Time-Front {
      z-index: 100;
      position: absolute;
      top: 0;
      left: 0;
    }

    .Clock-Time-Background {
      z-index: 50;
      position: absolute;
      top: 0;
      left: 0;
      color: #e9ecef;
    }

    iframe {
      width: 100%;
      height: 680px;
      border: thin;
    }

    /*]]>*/

  </style>
  <script type="module" crossorigin src="./assets/index.91e21b4e.js"></script>
</head>

<body class="d-flex flex-column h-100">
  <header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <div class="container-fluid d-flex justify-content-between">
        <a class="navbar-brand" href="#">smfplayer.js</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse flex-grow-0" id="navbarCollapse">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="https://logue.dev/">
                Home
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="https://github.com/logue/smfplayer.js/">
                smfplayer.js
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/logue/sf2synth.js/">
                sf2synth.js
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/logue/MabiMmlEmu/">
                MabiMmlEmu
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main role="main" class="flex-shrink-0 mt-4">
    <div class="container">
      <div id="info" class="alert alert-warning alert-dismissible fade show" role="alert">
        <p class="mb-0">Initializing...</p>
        <div class="progress hide" id="progress">
          <div class="progress-bar percentage" role="progressbar" style="width: 0%;" aria-valuemin="0"
            aria-valuemax="100">
            0%
          </div>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>

      <!-- player panel-->
      <div class="card mb-3" id="player">
        <div class="card-header">
          <h2 class="card-title h5">MIDI Player</h2>
          <h3 class="card-subtitle mb-2 text-muted h6">
            Drag and drop *.mid, *.mld, *.ms2mml, *.mms, *.mml, *.mmi file
            here, to play local midi file.
          </h3>
          <!-- Tabs -->
          <ul class="nav nav-tabs card-header-tabs" id="control-tab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="tab-player" aria-current="true" data-bs-toggle="tab"
                data-bs-target="#player-tab-content" type="button" role="tab" aria-controls="player-tab-content"
                aria-selected="true">
                Player
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="tab-option" aria-current="true" data-bs-toggle="tab"
                data-bs-target="#option-tab-content" type="button" role="tab" aria-controls="option-tab-content">
                Option
              </button>
            </li>
          </ul>
        </div>

        <div class="card-body">
          <div class="tab-content" id="plyaer-tab-contents">
            <div class="tab-pane fade show active" id="player-tab-content" role="tabpanel" aria-labelledby="player-tab">
              <!-- Player control -->
              <div class="d-sm-flex align-items-center mb-2">
                <div>
                  <button type="button" class="btn btn-info btn-lg control-btn" id="prev" disabled="disabled"
                    title="Previous Music">
                    <em class="bi bi-skip-start"></em>
                  </button>
                  <button type="button" class="btn btn-primary btn-lg control-btn" id="play" disabled="disabled"
                    title="Play / Pause">
                    <em class="bi bi-play"></em>
                  </button>
                  <button type="button" class="btn btn-danger btn-lg control-btn" id="stop" disabled="disabled"
                    title="Stop">
                    <em class="bi bi-stop"></em>
                  </button>
                  <button type="button" class="btn btn-info btn-lg control-btn" id="next" disabled="disabled"
                    title="Next Music">
                    <em class="bi bi-skip-end"></em>
                  </button>
                  <button type="button" class="btn btn-warning btn-lg control-btn" id="panic" disabled="disabled"
                    title="Panic">
                    <em class="bi bi-exclamation-octagon"></em>
                  </button>
                  <!--button type="button" class="btn btn-secondary btn-lg control-btn" id="copy" disabled="disabled"
                    title="Copy midi URL to clipboard">
                    <em class="bi bi-share"></em>
                  </button-->
                </div>
                <!-- time -->
                <div class="flex-grow-1 mx-3">
                  <div class="Clock-Wrapper">
                    <span class="Clock-Time-Background h4">
                      <em class="bi bi-clock"></em>
                      ~:~~:~~ / ~:~~:~~ &nbsp;
                      <em class="bi bi-music-note"></em>
                      ~~~
                    </span>
                    <span id="clock" class="Clock-Time-Front h4">
                      <em class="bi bi-clock"></em>
                      <span id="time-now">0:00:00</span>
                      /
                      <span id="time-total">0:00:00</span>
                      &nbsp;
                      <em class="bi bi-music-note"></em>
                      <span id="current-tempo">120</span>
                    </span>
                  </div>

                  <div class="progress" id="music-progress">
                    <div class="progress-bar percentage" role="progressbar" style="width: 0%" aria-valuemin="0"
                      aria-valuemax="100">
                      0%
                    </div>
                  </div>
                </div>
              </div>
              <!-- Midi selector -->
              <div class="row">
                <div class="col-md-8 col-xs-12 mb-2">
                  <label class="form-label" for="files">Sequence file:</label>
                  <div class="input-group">
                    <span class="input-group-text">
                      <em class="bi bi-music-note-list"></em>
                    </span>
                    <select id="files" class="form-select"></select>
                    <button class="btn btn-secondary" type="button" title="Download" id="download">
                      <em class="bi bi-download"></em>
                    </button>
                  </div>
                </div>
                <div class="col-md-4 col-xs-12 mb-2">
                  <label for="zips" class="form-label">
                    Zip archive file:
                  </label>
                  <div class="input-group">
                    <span class="input-group-text">
                      <em class="bi bi-file-earmark-zip"></em>
                    </span>
                    <select id="zips" class="form-select">
                      <option value="demo.zip" selected="selected">
                        demo.zip
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              <!-- Meta info -->
              <div class="row">
                <div class="col-md-7 col-xs-12 mb-2">
                  <label class="form-label" for="music_title">Title</label>
                  <input type="text" class="form-control" id="music_title" readonly="readonly" />
                </div>
                <div class="col-md-5 col-xs-12 mb-2">
                  <label class="form-label" for="copyright ">Copyright</label>
                  <input type="text" class="form-control" id="copyright" readonly="readonly" />
                </div>
                <div class="col-12 mb-2">
                  <label class="form-label" for="text_event">Text</label>
                  <input type="text" class="form-control" id="text_event" readonly="readonly" />
                </div>
                <div class="col-12">
                  <div class="form-label">Lyrics (karaoke)</div>
                  <div class="d-flex justify-content-center">
                    <pre class="bg-light rounded" id="lyrics"></pre>
                  </div>
                </div>
              </div>
            </div>

            <div class="tab-pane fade" id="option-tab-content" role="tabpanel" aria-labelledby="option-tab">
              <div class="row">
                <!-- Loop setting -->
                <div class="col-md-5 col-xs-12">
                  <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" id="random" />
                    <label class="form-check-label" for="random">
                      <em class="bi bi-shuffle"></em>
                      Random
                    </label>
                  </div>
                  <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" id="playerloop"
                      onchange="player.setLoop(this.checked);" />
                    <label class="form-check-label" for="playerloop">
                      <em class="bi bi-arrow-repeat"></em>
                      Loop
                    </label>
                  </div>
                  <hr />
                  <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" id="cc111loop"
                      onchange="player.setCC111Loop(this.checked);" />
                    <label class="form-check-label" for="cc111loop">
                      CC#111 Loop
                    </label>
                  </div>
                  <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" id="falcomloop"
                      onchange="player.setFalcomLoop(this.checked);" />
                    <label class="form-check-label" for="falcomloop">
                      Marker A-B (Ys2 Eternal)
                    </label>
                  </div>
                  <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" id="mfi"
                      onchange="player.setMFiLoop(this.checked);" />
                    <label class="form-check-label" for="mfi">MFi Loop</label>
                  </div>
                </div>
                <!-- Tempo and volume -->
                <div class="col-md-7 col-xs-12">
                  <div>
                    <label for="tempo" class="form-label">
                      Tempo: x
                      <span id="tempo_value" class="badge bg-secondary">
                        1.0
                      </span>
                    </label>
                    <div class="d-flex">
                      <div><em class="bi bi-clock"></em></div>
                      <input id="tempo" type="range" class="form-range ml-1" min="0.1" max="10.0" step="0.1"
                        value="1.0" />
                    </div>
                  </div>
                  <div>
                    <label for="volume" class="form-label">
                      Master Volume:
                      <span id="volume_value" class="badge bg-secondary">
                        0.5
                      </span>
                    </label>
                    <div class="d-flex">
                      <div><em class="bi bi-volume-off"></em></div>
                      <input id="volume" type="range" class="form-range mx-1" min="0" max="1" step="0.01" value="0.5" />
                      <div><em class="bi bi-volume-up"></em></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- WebMidiLink Placeholder -->
      <div class="card">
        <div class="card-header">
          <h2 class="h5"><label for="synth">Synthesyther</label></h2>
        </div>
        <div class="card-body p-0" id="wml"></div>
      </div>
    </div>
  </main>
  <footer class="footer mt-auto py-3 mb-0 bg-light">
    <address class="container mb-0">
      <a href="//github.com/gree/smfplayer.js">SMF.Player</a>
      &copy; 2013 imaya / GREE Inc. / &copy; 2013-2022 by
      <a href="//logue.dev/">Logue</a>
      . Licensed under the
      <a href="http://opensource.org/licenses/mit-license.php">MIT License</a>
      .
    </address>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"
    integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha256-JRXjfu4x9e89ZZsh3MhNxupzKwaHLaUQeLW1Jt40wME=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/zlibjs@0.3.1/bin/unzip.min.js"
    integrity="sha256-pKobUkzPTKMnWX5yXGUt55Lp7W9pboaAhaXiI/hgIr4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/encoding-japanese@2.0.0/encoding.min.js"
    integrity="sha256-JFu/2gVQWjH6acIFK57m/Ju1PFKyB+sz2XtXf1nbyqE=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/query-string@1.0.1/query-string.js"
    integrity="sha256-grrS5HRy2p4Z2sCglfc9r6rqRBewKCdWzuWhbUpIEJ4=" crossorigin="anonymous"></script>

  
</body>

</html>
